Form	"BSP_Powerhouse_Cust_Batch_Mapping"
{
	Commands
	{
	}
	ConfigurableMenus	"false"
	Constants
	{
	}
	Datatypes
	{
	}
	EventPost	""
	EventPre	""
	Fields
	{
	}
	Menus
	{
	}
	Series	"Sales"
	Tables
	{
		FormTable	"BSP_Powerhouse_Cust_Batch_Mapping"		
		{
			AutoOpen	"false"
			CursorBlockSize	"0"
			OpenMode	"ReadWrite"
			Position	"2"
			Table	"BSP_Powerhouse_Cust_Batch_Mapping"
		}
		FormTable	"Batch_Headers"		
		{
			AutoOpen	"false"
			CursorBlockSize	"0"
			OpenMode	"ReadWrite"
			Position	"1"
			Table	"Batch_Headers"
		}
	}
	Windows
	{
		Window	"BSP_Powerhouse_Cust_Batch_Mapping"		
		{
			AutoLinkTable	""
			AutoOpen	"true"
			BackGround	"true"
			CloseBox	"true"
			ControlArea	"true"
			DisplayName	"Customer Batch Mapping"
			EventActivate	""
			EventContextMenu	""
			EventPost	""
			EventPre	""
			EventPrint	""
			Fields
			{
				WindowLine	"10"				
				{
					Appearance	"3D Border"
					LineColor	"System"
					LineSize	"1"
					PositionLeft	"146"
					PositionTop	"3"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"16"
					SizeWidth	"0"
					ZOrder	"9"
				}
				WindowPrompt	"3"				
				{
					Alignment	"left"
					Appearance	"3D Highlight"
					BackColor	"System - Button Face"
					Border	"true"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Button Text"
					FontItalic	"false"
					FontUnderline	"false"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"24"
					PositionTop	"53"
					ReadingOrder	"LeftToRight"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"20"
					SizeWidth	"112"
					Text	"Customer Number"
					Visible	"true"
					ZOrder	"2"
					Zoom	"false"
				}
				WindowPrompt	"4"				
				{
					Alignment	"left"
					Appearance	"3D Highlight"
					BackColor	"System - Button Face"
					Border	"true"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Button Text"
					FontItalic	"false"
					FontUnderline	"false"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"24"
					PositionTop	"72"
					ReadingOrder	"LeftToRight"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"20"
					SizeWidth	"112"
					Text	"Batch Number"
					Visible	"true"
					ZOrder	"3"
					Zoom	"false"
				}
				WindowLine	"5"				
				{
					Appearance	"3D Border"
					LineColor	"System"
					LineSize	"1"
					PositionLeft	"0"
					PositionTop	"24"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"0"
					SizeWidth	"464"
					ZOrder	"4"
				}
				WindowLine	"7"				
				{
					Appearance	"3D Border"
					LineColor	"System"
					LineSize	"1"
					PositionLeft	"72"
					PositionTop	"3"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"16"
					SizeWidth	"0"
					ZOrder	"7"
				}
				WindowControl	"Batch Number"				
				{
					Alignment	"left"
					Appearance	"2D Border"
					AutoComplete	"false"
					AutoCopy	"true"
					BackColor	"System - Window Background"
					Border	"true"
					ControlType	"String"
					DisableLookup	"false"
					Editable	"true"
					EventChange	"BSP_Powerhouse_Cust_Batch_Mapping Batch Number_CHG"
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"Batch Number"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Window Text"
					FontItalic	"false"
					FontUnderline	"false"
					LinkedFormat	"0"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Password	"false"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"136"
					PositionTop	"72"
					ReadingOrder	"LeftToRight"
					Required	"false"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SavedOnRestart	"false"
					SetChangeFlag	"true"
					SizeHeight	"20"
					SizeWidth	"112"
					TabStop	"true"
					Tag	"2"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"true"
					ZOrder	"1"
					Zoom	"false"
				}
				WindowControl	"Cancel Button"				
				{
					Alignment	"center"
					Appearance	"3D Highlight"
					BackColor	"System - Toolbar"
					Border	"true"
					ButtonStyle	"TextOnRight"
					Cancel	"false"
					ControlType	"PushButton"
					Default	"false"
					Editable	"true"
					EndTransaction	"false"
					EventChange	"BSP_Powerhouse_Cust_Batch_Mapping Cancel Button_CHG"
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"Cancel Button"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Button Text"
					FontItalic	"false"
					FontUnderline	"false"
					HyperSpace	"false"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"74"
					PositionTop	"0"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"24"
					SizeWidth	"72"
					TabStop	"true"
					Tag	"9"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"true"
					ZOrder	"8"
					Zoom	"false"
				}
				WindowControl	"Customer Number"				
				{
					Alignment	"left"
					Appearance	"2D Border"
					AutoComplete	"false"
					AutoCopy	"true"
					BackColor	"System - Window Background"
					Border	"true"
					ControlType	"String"
					DisableLookup	"false"
					Editable	"false"
					EventChange	""
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"Customer Number"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Window Text"
					FontItalic	"false"
					FontUnderline	"false"
					LinkedFormat	"0"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Password	"false"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"136"
					PositionTop	"53"
					ReadingOrder	"LeftToRight"
					Required	"false"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SavedOnRestart	"false"
					SetChangeFlag	"true"
					SizeHeight	"20"
					SizeWidth	"112"
					TabStop	"false"
					Tag	"1"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"true"
					ZOrder	"0"
					Zoom	"false"
				}
				WindowControl	"Display Existing Record"				
				{
					Alignment	"left"
					Appearance	"3D Border"
					AutoCopy	"true"
					BackColor	"Yellow"
					Border	"true"
					ButtonStyle	"Standard"
					ControlType	"CheckBox"
					Editable	"true"
					EventChange	"BSP_Powerhouse_Cust_Batch_Mapping Display Existing Record_CHG"
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"Display Existing Record"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Window Text"
					FontItalic	"false"
					FontUnderline	"false"
					HyperSpace	"false"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Pattern	"(none)"
					PatternColor	"White"
					PatternSelect	"50% Shading"
					PositionLeft	"40"
					PositionTop	"148"
					Required	"false"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SavedOnRestart	"false"
					SetChangeFlag	"true"
					SizeHeight	"20"
					SizeWidth	"144"
					TabStop	"false"
					Tag	"11"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"false"
					ZOrder	"10"
				}
				WindowControl	"Lookup Button 1"				
				{
					Alignment	"center"
					Appearance	"2D Border"
					BackColor	"System - Button Face"
					Border	"true"
					ButtonStyle	"GraphicOnly"
					Cancel	"false"
					ControlType	"PushButton"
					Default	"false"
					Editable	"true"
					EndTransaction	"false"
					EventChange	"BSP_Powerhouse_Cust_Batch_Mapping Lookup Button 1_CHG"
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"Lookup Button 1"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Button Text"
					FontItalic	"false"
					FontUnderline	"false"
					HyperSpace	"false"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"247"
					PositionTop	"72"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"20"
					SizeWidth	"18"
					TabStop	"true"
					Tag	"8"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"true"
					ZOrder	"5"
					Zoom	"false"
				}
				WindowControl	"OK Button"				
				{
					Alignment	"center"
					Appearance	"3D Highlight"
					BackColor	"System - Toolbar"
					Border	"true"
					ButtonStyle	"TextOnRight"
					Cancel	"false"
					ControlType	"PushButton"
					Default	"false"
					Editable	"true"
					EndTransaction	"false"
					EventChange	"BSP_Powerhouse_Cust_Batch_Mapping OK Button_CHG"
					EventContextMenu	""
					EventMouseEnter	""
					EventMouseExit	""
					EventOther	""
					EventPost	""
					EventPre	""
					Field	"OK Button"
					Font	"System (generic)"
					FontBold	"false"
					FontColor	"System - Button Text"
					FontItalic	"false"
					FontUnderline	"false"
					HyperSpace	"false"
					LinkedLookup	"0"
					LinkedPrompt	"0"
					Pattern	"(none)"
					PatternColor	"White"
					PositionLeft	"0"
					PositionTop	"0"
					ResizeHoriz	"StayLeft"
					ResizeVert	"StayTop"
					SizeHeight	"24"
					SizeWidth	"72"
					TabStop	"true"
					Tag	"6"
					Tooltip	""
					UseUniqueHelp	"true"
					Visible	"true"
					ZOrder	"6"
					Zoom	"false"
				}
			}
			LastTag	"11"
			Position	"1"
			PositionLeft	"1"
			PositionTop	"1"
			Resizable	"true"
			SizeHeight	"121"
			SizeWidth	"290"
			WindowType	"Primary"
		}
	}
	~EventScripts
	{
		EventScript	"BSP_Powerhouse_Cust_Batch_Mapping Batch Number_CHG"		
		{
			Documentation	""
			Script	"local reference lFieldReference;
local reference lWindowReference;

if not empty('Batch Number') then

	{verify the batch exists}
	set 'Batch Number' of file Batch_Headers to 'Batch Number';
	set 'Batch Source' of file Batch_Headers to BATCH_SOURCE_SOP_ENTRY;
	get file Batch_Headers;
	if err() = MISSING then	
		restart field;
		if ask(getmsg(2204), getmsg(8), getmsg(1), \"\") = ASKBUTTON1 then
			assign lFieldReference as reference to 'Batch Number';
			assign lWindowReference as reference to window BSP_Powerhouse_Cust_Batch_Mapping;
			call OpenAddOnTheFly of form SOP_Batch_Entry, 
				lFieldReference, 
				lWindowReference, 
				BATCH_SOURCE_SOP_ENTRY;
		end if;
		abort script;
	else	
		if ('Marked To Post' of file Batch_Headers) then 
			call Warning_Dialog, 8450, \"\", \"\", \"\";
			clear field 'Batch Number';
			restart field;
			abort script;
		elseif Approval of file Batch_Headers then
			call Warning_Dialog, 10603, \"\", \"\", \"\";
			restart field;
			abort script;
		elseif ('Batch Status' of file Batch_Headers = BATCH_DELETING) then 
			call Warning_Dialog, 8455, \"\", \"\", \"\";
			restart field;
			abort script;
		elseif BatchStatusRecovered('Batch Status' of table Batch_Headers) then
			call Warning_Dialog, 2692;
			restart field;
			abort script;
		end if;
	end if;
end if;"
			UserProperties	""
		}
		EventScript	"BSP_Powerhouse_Cust_Batch_Mapping Cancel Button_CHG"		
		{
			Documentation	""
			Script	"close form BSP_Powerhouse_Cust_Batch_Mapping;"
			UserProperties	""
		}
		EventScript	"BSP_Powerhouse_Cust_Batch_Mapping Display Existing Record_CHG"		
		{
			Documentation	""
			Script	"release table BSP_Powerhouse_Cust_Batch_Mapping;
range clear table BSP_Powerhouse_Cust_Batch_Mapping;
clear table BSP_Powerhouse_Cust_Batch_Mapping;

set 'Customer Number' of table BSP_Powerhouse_Cust_Batch_Mapping to 'Customer Number';
get table BSP_Powerhouse_Cust_Batch_Mapping;
if err() = OKAY then
	set 'Batch Number' to 'Batch Number' of table BSP_Powerhouse_Cust_Batch_Mapping;
end if;"
			UserProperties	""
		}
		EventScript	"BSP_Powerhouse_Cust_Batch_Mapping Lookup Button 1_CHG"		
		{
			Documentation	""
			Script	"{	24Feb00		TIRSFELD	INTL32 - added support for multi-lingual data }

open form Batch_Lookup return to 'Batch Number';

call INITIALIZE of form Batch_Lookup,
	SALES, 
	'Batch Number',	
	BATCH_SOURCE_SOP_ENTRY, 
	9, {return to code}
	1; {Sort By}"
			UserProperties	""
		}
		EventScript	"BSP_Powerhouse_Cust_Batch_Mapping OK Button_CHG"		
		{
			Documentation	""
			Script	"release table BSP_Powerhouse_Cust_Batch_Mapping;
range clear table BSP_Powerhouse_Cust_Batch_Mapping;
clear table BSP_Powerhouse_Cust_Batch_Mapping;

set 'Customer Number' of table BSP_Powerhouse_Cust_Batch_Mapping to 'Customer Number';
change table BSP_Powerhouse_Cust_Batch_Mapping;
if empty('Batch Number') then
	remove table BSP_Powerhouse_Cust_Batch_Mapping;
else
	set 'Batch Number' of table BSP_Powerhouse_Cust_Batch_Mapping to 'Batch Number';
	save table BSP_Powerhouse_Cust_Batch_Mapping;
end if;


warning \"Record has been saved.\";
close form BSP_Powerhouse_Cust_Batch_Mapping;"
			UserProperties	""
		}
	}
	~Functions
	{
	}
	~Procedures
	{
	}
}
